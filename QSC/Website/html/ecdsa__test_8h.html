<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>QSC Post Quantum Cryptographic Library: C:/Users/stepp/Documents/Visual Studio 2022/Projects/C/QSC/QSCTest/ecdsa_test.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="qsc_extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">QSC Post Quantum Cryptographic Library<span id="projectnumber">&#160;1.0.0.6b (A6)</span>
   </div>
   <div id="projectbrief">A post quantum secure library written in Ansi C</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('ecdsa__test_8h.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ecdsa_test.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>ECDSA test functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;common.h&quot;</code><br />
</div>
<p><a href="ecdsa__test_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a202f749fd0e8d3c6ebce80f7d0f65118" id="r_a202f749fd0e8d3c6ebce80f7d0f65118"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a202f749fd0e8d3c6ebce80f7d0f65118">QSCTEST_ECDSA_ITERATIONS</a>&#160;&#160;&#160;100</td></tr>
<tr class="memdesc:a202f749fd0e8d3c6ebce80f7d0f65118"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of iterations to perform in the ECDSA stress test.  <br /></td></tr>
<tr class="separator:a202f749fd0e8d3c6ebce80f7d0f65118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92cfe4b01f2549800b5f4e4aab43f816" id="r_a92cfe4b01f2549800b5f4e4aab43f816"><td class="memItemLeft" align="right" valign="top"><a id="a92cfe4b01f2549800b5f4e4aab43f816" name="a92cfe4b01f2549800b5f4e4aab43f816"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>QSCTEST_ECDSA_MSG0_SIZE</b>&#160;&#160;&#160;32</td></tr>
<tr class="memdesc:a92cfe4b01f2549800b5f4e4aab43f816"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size in bytes of the first test message used in ECDSA tests. <br /></td></tr>
<tr class="separator:a92cfe4b01f2549800b5f4e4aab43f816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c57bf4bcac4c1eaf1349149f3e441b9" id="r_a6c57bf4bcac4c1eaf1349149f3e441b9"><td class="memItemLeft" align="right" valign="top"><a id="a6c57bf4bcac4c1eaf1349149f3e441b9" name="a6c57bf4bcac4c1eaf1349149f3e441b9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>QSCTEST_ECDSA_MSG1_SIZE</b>&#160;&#160;&#160;64</td></tr>
<tr class="memdesc:a6c57bf4bcac4c1eaf1349149f3e441b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size in bytes of the second test message used in ECDSA tests. <br /></td></tr>
<tr class="separator:a6c57bf4bcac4c1eaf1349149f3e441b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cad65ead641c386adc2740ba47d655f" id="r_a4cad65ead641c386adc2740ba47d655f"><td class="memItemLeft" align="right" valign="top"><a id="a4cad65ead641c386adc2740ba47d655f" name="a4cad65ead641c386adc2740ba47d655f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>QSCTEST_ECDSA_MSG2_SIZE</b>&#160;&#160;&#160;96</td></tr>
<tr class="memdesc:a4cad65ead641c386adc2740ba47d655f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size in bytes of the third test message used in ECDSA tests. <br /></td></tr>
<tr class="separator:a4cad65ead641c386adc2740ba47d655f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acaf2f89e537f1d2c1793f6a272b70ac9" id="r_acaf2f89e537f1d2c1793f6a272b70ac9"><td class="memItemLeft" align="right" valign="top"><a id="acaf2f89e537f1d2c1793f6a272b70ac9" name="acaf2f89e537f1d2c1793f6a272b70ac9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>QSCTEST_ECDSA_MSG3_SIZE</b>&#160;&#160;&#160;128</td></tr>
<tr class="memdesc:acaf2f89e537f1d2c1793f6a272b70ac9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Size in bytes of the fourth test message used in ECDSA tests. <br /></td></tr>
<tr class="separator:acaf2f89e537f1d2c1793f6a272b70ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a43e08efdeb2ea001e52170e3dea89cae" id="r_a43e08efdeb2ea001e52170e3dea89cae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a43e08efdeb2ea001e52170e3dea89cae">qsctest_ecdsa_kat_test</a> (void)</td></tr>
<tr class="memdesc:a43e08efdeb2ea001e52170e3dea89cae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test the ECDSA known answer test vectors.  <br /></td></tr>
<tr class="separator:a43e08efdeb2ea001e52170e3dea89cae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9c1f3597d27a7655ea9b84cbe54766" id="r_aab9c1f3597d27a7655ea9b84cbe54766"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab9c1f3597d27a7655ea9b84cbe54766">qsctest_ecdsa_privatekey_integrity</a> (void)</td></tr>
<tr class="memdesc:aab9c1f3597d27a7655ea9b84cbe54766"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test the validity of a mutated secret key.  <br /></td></tr>
<tr class="separator:aab9c1f3597d27a7655ea9b84cbe54766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e6b63191df9084e0bd8e2b3b0bf353e" id="r_a3e6b63191df9084e0bd8e2b3b0bf353e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e6b63191df9084e0bd8e2b3b0bf353e">qsctest_ecdsa_publickey_integrity</a> (void)</td></tr>
<tr class="memdesc:a3e6b63191df9084e0bd8e2b3b0bf353e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test the validity of a mutated public key.  <br /></td></tr>
<tr class="separator:a3e6b63191df9084e0bd8e2b3b0bf353e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6722aa53b0cbc988f85f3c12ff71ea3a" id="r_a6722aa53b0cbc988f85f3c12ff71ea3a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6722aa53b0cbc988f85f3c12ff71ea3a">qsctest_ecdsa_signature_integrity</a> (void)</td></tr>
<tr class="memdesc:a6722aa53b0cbc988f85f3c12ff71ea3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test the validity of a mutated signature.  <br /></td></tr>
<tr class="separator:a6722aa53b0cbc988f85f3c12ff71ea3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a88e6be7d10fe58af743e311554d9f8" id="r_a1a88e6be7d10fe58af743e311554d9f8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a88e6be7d10fe58af743e311554d9f8">qsctest_ecdsa_stress_test</a> (void)</td></tr>
<tr class="memdesc:a1a88e6be7d10fe58af743e311554d9f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stress test the key generation, signing, and verification operations.  <br /></td></tr>
<tr class="separator:a1a88e6be7d10fe58af743e311554d9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b64dd3b4aedc130dc9ba46ad24135b7" id="r_a7b64dd3b4aedc130dc9ba46ad24135b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7b64dd3b4aedc130dc9ba46ad24135b7">qsctest_ecdsa_run</a> (void)</td></tr>
<tr class="memdesc:a7b64dd3b4aedc130dc9ba46ad24135b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the ECDSA implementation stress and correctness tests.  <br /></td></tr>
<tr class="separator:a7b64dd3b4aedc130dc9ba46ad24135b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>ECDSA test functions. </p>
<p>This header defines functions for testing the ECDSA (Elliptic Curve Digital Signature Algorithm) implementation. The test suite includes the following:</p>
<ul>
<li>A known answer test (KAT) that validates key generation, message signing, and signature verification using predetermined test vectors for messages of various lengths (32, 64, 96, and 128 bytes). This test ensures that the generated keys and signatures match the expected outputs.</li>
<li>A private key integrity test that deliberately mutates the secret key and verifies that the resulting signature fails verification, confirming that any alteration in the secret key is detected.</li>
<li>A public key integrity test that modifies a bit in the public key to ensure that signature verification fails when the public key has been tampered with.</li>
<li>A signature integrity test that flips bits in the generated signature (including parts of the hashed value) to verify that even minor modifications cause the verification to fail.</li>
<li>A stress test that repeatedly generates key pairs, signs a message, and verifies the signature over many iterations (as defined by QSCTEST_ECDSA_ITERATIONS) to assess the robustness and reliability of the implementation.</li>
</ul>
<p>These tests collectively ensure both the correctness and resilience of the ECDSA implementation. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a202f749fd0e8d3c6ebce80f7d0f65118" name="a202f749fd0e8d3c6ebce80f7d0f65118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a202f749fd0e8d3c6ebce80f7d0f65118">&#9670;&#160;</a></span>QSCTEST_ECDSA_ITERATIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define QSCTEST_ECDSA_ITERATIONS&#160;&#160;&#160;100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Number of iterations to perform in the ECDSA stress test. </p>
<p>When compiled in debug mode (_DEBUG defined), the number of iterations is set to 10. Otherwise, it is set to 100. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a43e08efdeb2ea001e52170e3dea89cae" name="a43e08efdeb2ea001e52170e3dea89cae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43e08efdeb2ea001e52170e3dea89cae">&#9670;&#160;</a></span>qsctest_ecdsa_kat_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool qsctest_ecdsa_kat_test </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test the ECDSA known answer test vectors. </p>
<p>This function tests key generation, message signing, and signature verification against predetermined test vectors for messages of varying lengths. It ensures that the generated public and private keys and the produced signatures match the expected values.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if all known answer tests pass. </dd></dl>

</div>
</div>
<a id="aab9c1f3597d27a7655ea9b84cbe54766" name="aab9c1f3597d27a7655ea9b84cbe54766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab9c1f3597d27a7655ea9b84cbe54766">&#9670;&#160;</a></span>qsctest_ecdsa_privatekey_integrity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool qsctest_ecdsa_privatekey_integrity </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test the validity of a mutated secret key. </p>
<p>This function deliberately alters a portion of the private key and attempts to sign a message. The test passes only if the signature verification fails, indicating that any modification to the secret key is correctly detected.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the test is successful. </dd></dl>

</div>
</div>
<a id="a3e6b63191df9084e0bd8e2b3b0bf353e" name="a3e6b63191df9084e0bd8e2b3b0bf353e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e6b63191df9084e0bd8e2b3b0bf353e">&#9670;&#160;</a></span>qsctest_ecdsa_publickey_integrity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool qsctest_ecdsa_publickey_integrity </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test the validity of a mutated public key. </p>
<p>This function mutates the public key and verifies that signature verification fails when using the altered public key.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the test is successful. </dd></dl>

</div>
</div>
<a id="a7b64dd3b4aedc130dc9ba46ad24135b7" name="a7b64dd3b4aedc130dc9ba46ad24135b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b64dd3b4aedc130dc9ba46ad24135b7">&#9670;&#160;</a></span>qsctest_ecdsa_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void qsctest_ecdsa_run </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the ECDSA implementation stress and correctness tests. </p>
<p>This function executes the known answer tests, the integrity tests for keys and signature, and the stress test, printing the result of each test to the console. </p>

</div>
</div>
<a id="a6722aa53b0cbc988f85f3c12ff71ea3a" name="a6722aa53b0cbc988f85f3c12ff71ea3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6722aa53b0cbc988f85f3c12ff71ea3a">&#9670;&#160;</a></span>qsctest_ecdsa_signature_integrity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool qsctest_ecdsa_signature_integrity </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test the validity of a mutated signature. </p>
<p>This function tests signature sensitivity by flipping bits in the signature. It verifies that even minor alterations cause the signature verification to fail.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if the test is successful. </dd></dl>

</div>
</div>
<a id="a1a88e6be7d10fe58af743e311554d9f8" name="a1a88e6be7d10fe58af743e311554d9f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a88e6be7d10fe58af743e311554d9f8">&#9670;&#160;</a></span>qsctest_ecdsa_stress_test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool qsctest_ecdsa_stress_test </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stress test the key generation, signing, and verification operations. </p>
<p>This function performs a series of iterations (defined by QSCTEST_ECDSA_ITERATIONS) where a message is signed, and the resulting signature is verified. It also checks that the signature length and the recovered message remain correct in every iteration.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns true if all stress tests pass. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_12ba33f14d153ce862ef28362b3660f0.html">QSCTest</a></li><li class="navelem"><a class="el" href="ecdsa__test_8h.html">ecdsa_test.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
