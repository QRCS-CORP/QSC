\doxysection{C\+:/\+Users/stepp/\+Documents/\+Visual Studio 2022/\+Projects/\+C/\+QSC/\+QSC/chacha.h File Reference}
\hypertarget{chacha_8h}{}\label{chacha_8h}\index{C:/Users/stepp/Documents/Visual Studio 2022/Projects/C/QSC/QSC/chacha.h@{C:/Users/stepp/Documents/Visual Studio 2022/Projects/C/QSC/QSC/chacha.h}}


Contains the public api and documentation for the Cha\+Cha\+Poly20 implementation Key sizes are 128-\/ and 256-\/bit (16 and 32 byte). The nonce must be 64-\/bits in length (8 bytes).  


{\ttfamily \#include "{}common.\+h"{}}\newline
Include dependency graph for chacha.\+h\+:
% FIG 0
\doxysubsubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structqsc__chacha__state}{qsc\+\_\+chacha\+\_\+state}}
\begin{DoxyCompactList}\small\item\em Internal\+: contains the \doxylink{structqsc__chacha__state}{qsc\+\_\+chacha\+\_\+state} state. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structqsc__chacha__keyparams}{qsc\+\_\+chacha\+\_\+keyparams}}
\begin{DoxyCompactList}\small\item\em The key parameters structure containing key, and nonce arrays and lengths. Use this structure to load an input cipher-\/key and nonce using the qsc\+\_\+chacha\+\_\+initialize function. Keys must be random and secret, and align to the corresponding key size of the cipher implemented. The key must be QSC\+\_\+\+CHACHA\+\_\+\+KEY128\+\_\+\+SIZE or QSC\+\_\+\+CHACHA\+\_\+\+KEY256\+\_\+\+SIZE in length. The nonce is always QSC\+\_\+\+CHACHA\+\_\+\+NONCE\+\_\+\+SIZE in length. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{chacha_8h_a4c0d431dcf04a458983878c714608c53}\label{chacha_8h_a4c0d431dcf04a458983878c714608c53} 
\#define {\bfseries QSC\+\_\+\+CHACHA\+\_\+\+BLOCK\+\_\+\+SIZE}~64
\begin{DoxyCompactList}\small\item\em The internal block size. \end{DoxyCompactList}\item 
\Hypertarget{chacha_8h_af2b25c2a4ab2981038f2d480a2cbe9aa}\label{chacha_8h_af2b25c2a4ab2981038f2d480a2cbe9aa} 
\#define {\bfseries QSC\+\_\+\+CHACHA\+\_\+\+KEY128\+\_\+\+SIZE}~16
\begin{DoxyCompactList}\small\item\em The size of the 128-\/bit secret key array in bytes. \end{DoxyCompactList}\item 
\Hypertarget{chacha_8h_af0baec38ae6e816c276dd88316408b39}\label{chacha_8h_af0baec38ae6e816c276dd88316408b39} 
\#define {\bfseries QSC\+\_\+\+CHACHA\+\_\+\+KEY256\+\_\+\+SIZE}~32
\begin{DoxyCompactList}\small\item\em The size of the 256-\/bit secret key array in bytes. \end{DoxyCompactList}\item 
\Hypertarget{chacha_8h_af41a09548e9181403299ff4057aaa715}\label{chacha_8h_af41a09548e9181403299ff4057aaa715} 
\#define {\bfseries QSC\+\_\+\+CHACHA\+\_\+\+NONCE\+\_\+\+SIZE}~8
\begin{DoxyCompactList}\small\item\em The size of the nonce array in bytes. \end{DoxyCompactList}\item 
\Hypertarget{chacha_8h_acacd14ab3dd74aff272f7bb39344187e}\label{chacha_8h_acacd14ab3dd74aff272f7bb39344187e} 
\#define {\bfseries QSC\+\_\+\+CHACHA\+\_\+\+ROUND\+\_\+\+COUNT}~20
\begin{DoxyCompactList}\small\item\em The number of mixing rounds used by Cha\+Cha. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
QSC\+\_\+\+EXPORT\+\_\+\+API void \mbox{\hyperlink{chacha_8h_a23540b2563ed245f9399c9343a728a93}{qsc\+\_\+chacha\+\_\+dispose}} (\mbox{\hyperlink{structqsc__chacha__state}{qsc\+\_\+chacha\+\_\+state}} \texorpdfstring{$\ast$}{*}ctx)
\begin{DoxyCompactList}\small\item\em Dispose of the Cha\+Cha cipher state. \end{DoxyCompactList}\item 
QSC\+\_\+\+EXPORT\+\_\+\+API void \mbox{\hyperlink{chacha_8h_a9f79c54952c8f3ebf065dd900ba37e41}{qsc\+\_\+chacha\+\_\+initialize}} (\mbox{\hyperlink{structqsc__chacha__state}{qsc\+\_\+chacha\+\_\+state}} \texorpdfstring{$\ast$}{*}ctx, const \mbox{\hyperlink{structqsc__chacha__keyparams}{qsc\+\_\+chacha\+\_\+keyparams}} \texorpdfstring{$\ast$}{*}keyparams)
\begin{DoxyCompactList}\small\item\em Initialize the state with the secret key and nonce. \end{DoxyCompactList}\item 
QSC\+\_\+\+EXPORT\+\_\+\+API void \mbox{\hyperlink{chacha_8h_a2cc406c69bd6810302a37db43516f519}{qsc\+\_\+chacha\+\_\+transform}} (\mbox{\hyperlink{structqsc__chacha__state}{qsc\+\_\+chacha\+\_\+state}} \texorpdfstring{$\ast$}{*}ctx, uint8\+\_\+t \texorpdfstring{$\ast$}{*}output, const uint8\+\_\+t \texorpdfstring{$\ast$}{*}input, size\+\_\+t length)
\begin{DoxyCompactList}\small\item\em Transform a length of input text. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Contains the public api and documentation for the Cha\+Cha\+Poly20 implementation Key sizes are 128-\/ and 256-\/bit (16 and 32 byte). The nonce must be 64-\/bits in length (8 bytes). 

\begin{DoxyAuthor}{Author}
John Underhill 
\end{DoxyAuthor}
\begin{DoxyDate}{Date}
April 7, 2018
\end{DoxyDate}
Cha\+Cha encryption example ~\newline

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{size\_t}\ \textcolor{keyword}{const}\ MSG\_LEN\ =\ 1024;}
\DoxyCodeLine{uint8\_t\ key[32]\ =\ \{...\};}
\DoxyCodeLine{uint8\_t\ nonce[\mbox{\hyperlink{chacha_8h_af41a09548e9181403299ff4057aaa715}{QSC\_CHACHA\_NONCE\_SIZE}}]\ =\ \{...\};}
\DoxyCodeLine{uint8\_t\ msg[MSG\_LEN]\ =\ \{...\};}
\DoxyCodeLine{uint8\_t\ out[MSG\_LEN]\ =\ \{\ 0\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{\mbox{\hyperlink{structqsc__chacha__state}{qsc\_chacha\_state}}\ ctx;}
\DoxyCodeLine{qsc\_chacha\_initialize(\&ctx,\ key,\ 32,\ nonce);}
\DoxyCodeLine{qsc\_chacha\_transform(\&ctx,\ out,\ msg,\ MSG\_LEN);}

\end{DoxyCode}
 An implementation of the Cha\+Cha\+Poly20 stream cipher by Daniel J. Bernstein. Implementation contains AVX, AVX2, and AVX512 intrinsics support. \begin{DoxyRemark}{Remarks}
For usage examples, see chacha\+\_\+test.\+h 
\end{DoxyRemark}


\doxysubsection{Function Documentation}
\Hypertarget{chacha_8h_a23540b2563ed245f9399c9343a728a93}\index{chacha.h@{chacha.h}!qsc\_chacha\_dispose@{qsc\_chacha\_dispose}}
\index{qsc\_chacha\_dispose@{qsc\_chacha\_dispose}!chacha.h@{chacha.h}}
\doxysubsubsection{\texorpdfstring{qsc\_chacha\_dispose()}{qsc\_chacha\_dispose()}}
{\footnotesize\ttfamily \label{chacha_8h_a23540b2563ed245f9399c9343a728a93} 
QSC\+\_\+\+EXPORT\+\_\+\+API void qsc\+\_\+chacha\+\_\+dispose (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structqsc__chacha__state}{qsc\+\_\+chacha\+\_\+state}} \texorpdfstring{$\ast$}{*}}]{ctx}{}\end{DoxyParamCaption})}



Dispose of the Cha\+Cha cipher state. 

\begin{DoxyWarning}{Warning}
The dispose function must be called when disposing of the cipher. This function destroys internal arrays and data
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em ctx} & \mbox{[}struct\mbox{]} The cipher state structure \\
\hline
\end{DoxyParams}
\Hypertarget{chacha_8h_a9f79c54952c8f3ebf065dd900ba37e41}\index{chacha.h@{chacha.h}!qsc\_chacha\_initialize@{qsc\_chacha\_initialize}}
\index{qsc\_chacha\_initialize@{qsc\_chacha\_initialize}!chacha.h@{chacha.h}}
\doxysubsubsection{\texorpdfstring{qsc\_chacha\_initialize()}{qsc\_chacha\_initialize()}}
{\footnotesize\ttfamily \label{chacha_8h_a9f79c54952c8f3ebf065dd900ba37e41} 
QSC\+\_\+\+EXPORT\+\_\+\+API void qsc\+\_\+chacha\+\_\+initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structqsc__chacha__state}{qsc\+\_\+chacha\+\_\+state}} \texorpdfstring{$\ast$}{*}}]{ctx}{, }\item[{const \mbox{\hyperlink{structqsc__chacha__keyparams}{qsc\+\_\+chacha\+\_\+keyparams}} \texorpdfstring{$\ast$}{*}}]{keyparams}{}\end{DoxyParamCaption})}



Initialize the state with the secret key and nonce. 

\begin{DoxyWarning}{Warning}
The key array must be either 16 or 32 bytes in length 

The nonce array must be 8 bytes bytes in length
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em ctx} & \mbox{[}struct\mbox{]} The cipher state structure \\
\hline
{\em keyparams} & \mbox{[}const\mbox{]}\mbox{[}struct\mbox{]} The secret key and nonce structure \\
\hline
\end{DoxyParams}
\Hypertarget{chacha_8h_a2cc406c69bd6810302a37db43516f519}\index{chacha.h@{chacha.h}!qsc\_chacha\_transform@{qsc\_chacha\_transform}}
\index{qsc\_chacha\_transform@{qsc\_chacha\_transform}!chacha.h@{chacha.h}}
\doxysubsubsection{\texorpdfstring{qsc\_chacha\_transform()}{qsc\_chacha\_transform()}}
{\footnotesize\ttfamily \label{chacha_8h_a2cc406c69bd6810302a37db43516f519} 
QSC\+\_\+\+EXPORT\+\_\+\+API void qsc\+\_\+chacha\+\_\+transform (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structqsc__chacha__state}{qsc\+\_\+chacha\+\_\+state}} \texorpdfstring{$\ast$}{*}}]{ctx}{, }\item[{uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{output}{, }\item[{const uint8\+\_\+t \texorpdfstring{$\ast$}{*}}]{input}{, }\item[{size\+\_\+t}]{length}{}\end{DoxyParamCaption})}



Transform a length of input text. 


\begin{DoxyParams}{Parameters}
{\em ctx} & \mbox{[}struct\mbox{]} The cipher state structure \\
\hline
{\em output} & A pointer to the output byte array \\
\hline
{\em input} & \mbox{[}const\mbox{]} A pointer to the input byte array \\
\hline
{\em length} & The number of bytes to process \\
\hline
\end{DoxyParams}
